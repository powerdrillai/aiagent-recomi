<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Recomi SDK Demo</title>
  </head>
  <body>
    <h1>Recomi SDK Demo</h1>
    <p>This page demonstrates the Recomi SDK functionality.</p>

    <script type="module">
      (function () {
        const onLoad = function () {
          console.log("onLoad");

          const script = document.createElement("script");
          script.src = "./dist/Recomi.umd.cjs";
          // 这里使用的时候，需要用户去妥善管理，例如vite是使用环境变量
          script.setAttribute("USER_ID", import.meta.env.VITE_USER_ID);
          script.setAttribute("API_KEY", import.meta.env.VITE_API_KEY);
          script.setAttribute("domain", "https://aiagent-recomi.vercel.app/");
          document.body.appendChild(script);
        };

        if (document.readyState === "complete") {
          onLoad();
        } else {
          window.addEventListener("load", onLoad);
        }
      })();
    </script>
  </body>
</html>
